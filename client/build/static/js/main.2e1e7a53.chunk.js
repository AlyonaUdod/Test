(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,a){e.exports=a(332)},185:function(e,t,a){},311:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),r=a(41),o=a.n(r),c=(a(185),a(50)),g=a.n(c),i=a(166),A=a(91),u=a(144),h=a(145),l=a(146),m=a(167),p=a(147),f=a(168),d=(a(341),a(343),a(340),a(339),a(342),a(311),a(51)),x=a.n(d),b=function(e){function t(){var e,a;Object(h.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={messages:null,messagesLength:0,error:"",page:1,email:"",text:"",messageId:"",singleMessage:null,seachError:""},a.handlerChange=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.handleKeyDown=function(e){13===e.keyCode&&a.postMessage(e)},a.getAllMessages=function(){x.a.get("http://localhost:3002/api/messages").then(function(e){return a.setState({messagesLength:Math.ceil(e.data.length/10)})}).catch(function(e){return a.setState({error:e})})},a.getMessagesByPage=function(){x.a.get("http://localhost:3002/api/messages/list/".concat(a.state.page)).then(function(e){return a.setState({messages:e.data})}).catch(function(e){return a.setState({error:e})})},a.postMessage=function(e){e.preventDefault();var t={email:a.state.email,text:a.state.text};a.sendMessageToDb(t)},a.sendMessageToDb=function(e){x.a.post("http://localhost:3002/api/messages/",e).then(function(e){return a.checkMessagesLength(e.data)}).catch(function(){return a.setState({error:"Validation faild! Your email isn't correct or message length more then 100 symbols, try again."})})},a.checkMessagesLength=function(){var e=Object(A.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.messages.length<10)){e.next=4;break}a.setState(function(e){return{messages:[].concat(Object(i.a)(e.messages),[t]),email:"",text:"",error:""}}),e.next=7;break;case 4:return e.next=6,a.setState(function(e){return{email:"",text:"",error:"",page:e.page===e.messagesLength?e.page+1:1===e.page?Math.floor(e.messagesLength+1):e.messagesLength,messagesLength:10===e.messages.length?Math.floor(e.messagesLength+1):e.messagesLength}});case 6:a.getMessagesByPage();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.showNewPage=function(){var e=Object(A.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),"pageItem"!==t.target.type){e.next=6;break}return e.next=4,a.setState({page:+t.target.text});case 4:e.next=16;break;case 6:if("nextItem"!==t.target.type){e.next=12;break}if(!(a.state.page<a.state.messagesLength)){e.next=10;break}return e.next=10,a.setState(function(e){return{page:e.page+1}});case 10:e.next=16;break;case 12:if("prevItem"!==t.target.type){e.next=16;break}if(!(a.state.page>1)){e.next=16;break}return e.next=16,a.setState(function(e){return{page:e.page-1}});case 16:a.getMessagesByPage();case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.getMessageById=function(){a.state.messageId&&x.a.get("http://localhost:3002/api/messages/single/".concat(a.state.messageId)).then(function(e){return a.setState({singleMessage:[e.data],seachError:""})}).catch(function(){return a.setState({seachError:"Sorry, can't find message with this ID, try again."})})},a.removeSingleMessage=function(){a.setState({singleMessage:null,messageId:"",seachError:""})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state;e.page,e.messages,e.error,e.email,e.text,e.messagesLength,e.messageId,e.singleMessage,e.seachError;return n.a.createElement("div",{className:"wrapper"},"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa")}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(331);o.a.render(n.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[180,1,2]]]);
//# sourceMappingURL=main.2e1e7a53.chunk.js.map